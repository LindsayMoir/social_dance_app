2025-02-04 17:35:17 - INFO - 

__main__: Starting the crawler process at 2025-02-04 17:35:17.598360
2025-02-04 17:35:17 - INFO - def __init__(): Database connection established.
2025-02-04 17:35:21 - INFO - Loaded existing session. Already logged into Facebook.
2025-02-04 17:35:21 - INFO - def __init__(): Database connection established.
2025-02-04 17:35:21 - INFO - def __main__: Starting Facebook event scraping.
2025-02-04 17:35:21 - INFO - def __main__: Running driver_fb_urls.
2025-02-04 17:35:21 - INFO - def driver_fb_urls(): Processing URL: https://www.facebook.com/djdancingdean/
2025-02-04 17:35:22 - INFO - Loaded existing session. Already logged into Facebook.
2025-02-04 17:35:22 - INFO - def extract_text_from_fb_url(): Successfully logged into Facebook.
2025-02-04 17:35:52 - WARNING - Could not click 'See more' button in URL https://www.facebook.com/djdancingdean/: Timeout 30000ms exceeded.
2025-02-04 17:35:57 - INFO - def extract_event_text(): Extracted raw text from https://www.facebook.com/djdancingdean/: Dj Dancing Dean | Facebook Facebook Log In Log In Forgot Account? Dj Dancing Dean 384 followers • 2 following Posts About Photos Videos More Posts About Photos Videos Dj Dancing Dean Intro Dance Instruction and Dj services . weddings ect. Page · Dancer (778) 966-5678 djdancingdean@gmail.com sites.google.com/site/countrydancevictoria/home 100% recommend (6 Reviews) ﻿ Photos See all photos Privacy · Terms · Advertising · Ad Choices · Cookies · More · Meta © 2025 Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Dj Dancing Dean p o o n S d s e t r 1 e t 4 l o 4 a 0 4 5 2 4 5 3 4 , a i e m 2 2 0 i f c r 1 h f b 6 1 h 1 8 5 N 9 2 2 f v u a c 0 · Shared with Public Friendly reminder this Thursday at the Pro Pat Legion is 2-step . TIME: 730-830 lesson beyond beginner. 830-945 social dance mixed music, line dance, mixer dance ect .… See more Sorry, we're having trouble playing this video. Learn more Tenor ilhYBCn351.com media1.tenor.co p o o n S d s e t r 1 7 t 4 l L 4 a o e 5 2 4 5 3 4 a i 3 a i 2 0 n i f c t 1 M h f r 9 1 h 1 8 5 t 9 r 2 f e u a c 0 All reactions: 1 Like Comment Share Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Facebook Lindsay Moir Continue as Lindsay Moir Use another profile November 6, 2024 Learn More
2025-02-04 17:35:57 - INFO - def extract_event_text(): This is not an event in Facebook. Do a different parsing of this page: https://www.facebook.com/djdancingdean/.
2025-02-04 17:35:57 - INFO - Extracted shared text from https://www.facebook.com/djdancingdean/: Friendly reminder this Thursday at the Pro Pat Legion is 2-step . TIME: 730-830 lesson beyond beginner. 830-945 social dance mixed music, line dance, mixer dance ect .…
2025-02-04 17:35:57 - INFO - def generate_prompt(): Generating prompt for URL: https://www.facebook.com/djdancingdean/
2025-02-04 17:35:57 - INFO - def generate_prompt(): prompt type: fb, text file path: prompts/fb_prompt.txt
2025-02-04 17:35:57 - INFO - def generate_prompt(): 
prompts/fb_prompt.txt
2025-02-04 17:35:57 - INFO - def query_llm(): Spending money is set to True. Querying the LLM.
2025-02-04 17:36:13 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-04 17:36:13 - INFO - def query_llm(): LLM response received: ```json
[
    {
        "org_name": "Pro Pat Legion",
        "dance_style": "swing",
        "url": "",
        "event_type": "social dance",
        "event_name": "2-step",
        "day_of_week": "Thursday",
        "start_date": "2023-10-05",
        "end_date": "2023-10-05",
        "start_time": "07:30",
        "end_time": "09:45",
        "price": "",
        "location": "Pro Pat Legion",
        "description": "2-step. TIME: 07:30-08:30 lesson beyond beginner. 08:30-09:45 social dance mixed music, line dance, mixer dance etc."
    }
]
```
2025-02-04 17:36:13 - INFO - def extract_and_parse_json(): JSON found in result.
2025-02-04 17:36:13 - INFO - def extract_and_parse_json(): for url https://www.facebook.com/djdancingdean/, 
Cleaned JSON string: 
[
    {
        "org_name": "Pro Pat Legion",
        "dance_style": "swing",
        "url": "",
        "event_type": "social dance",
        "event_name": "2-step",
        "day_of_week": "Thursday",
        "start_date": "2023-10-05",
        "end_date": "2023-10-05",
        "start_time": "07:30",
        "end_time": "09:45",
        "price": "",
        "location": "Pro Pat Legion",
        "description": "2-step. TIME: 07:30-08:30 lesson beyond beginner. 08:30-09:45 social dance mixed music, line dance, mixer dance etc."
    }
]
2025-02-04 17:36:13 - INFO - write_events_to_db: Number of events to write: 1
2025-02-04 17:36:13 - INFO - write_events_to_db: Events data written to the 'events' table.
2025-02-04 17:36:13 - INFO - def process_fb_url(): Valid events found for Facebook URL: https://www.facebook.com/djdancingdean/. Events written to database.
2025-02-04 17:36:13 - INFO - def update_url(): Failed to update URL 'https://www.facebook.com/djdancingdean/'.
2025-02-04 17:36:13 - INFO - def process_fb_url(): relevant and updated https://www.facebook.com/djdancingdean/
2025-02-04 17:36:25 - INFO - def extract_event_links(): Extracted 0 event links from https://www.facebook.com/djdancingdean/.
2025-02-04 17:36:25 - INFO - __main__: Finished the crawler process at 2025-02-04 17:36:25.684152
2025-02-04 17:36:25 - INFO - __main__: Total time taken: 0:01:08.085792


