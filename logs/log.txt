2025-01-28 18:03:11,492 - INFO - 
__main__: Starting the crawler process at 2025-01-28 18:03:11.492005
2025-01-28 18:03:11,540 - INFO - def __init__(): Database connection established.
2025-01-28 18:03:11,549 - INFO - def __init__(): Database connection established.
2025-01-28 18:03:11,550 - INFO - def __init__(): Database connection established.
2025-01-28 18:03:11,560 - INFO - Retrieved credentials for Google.
2025-01-28 18:03:11,596 - INFO - def process_events_without_url(): Found 0 events without URLs.
2025-01-28 18:03:11,596 - INFO - def process_events_without_url(): All events have a URL
2025-01-28 18:03:11,597 - INFO - __main__: Finished the crawler process at 2025-01-28 18:03:11.597747
2025-01-28 18:03:11,598 - INFO - __main__: Total time taken: 0:00:00.105742


2025-01-28 18:03:44,226 - INFO - root - Main: Started the process at 2025-01-28 18:03:44.225982
2025-01-28 18:03:44,263 - INFO - root - def __init__(): Database connection established.
2025-01-28 18:03:44,284 - INFO - root - create_tables: 'urls' table created or already exists.
2025-01-28 18:03:44,285 - INFO - root - create_tables: 'events' table created or already exists.
2025-01-28 18:03:44,286 - INFO - root - create_tables: 'address' table created or already exists.
2025-01-28 18:03:44,286 - INFO - root - create_tables: 'organizations' table created or already exists.
2025-01-28 18:03:44,290 - INFO - root - Schema: public, Table: address
2025-01-28 18:03:44,290 - INFO - root - Schema: public, Table: events
2025-01-28 18:03:44,291 - INFO - root - Schema: public, Table: fb_urls
2025-01-28 18:03:44,291 - INFO - root - Schema: public, Table: organizations
2025-01-28 18:03:44,292 - INFO - root - Schema: public, Table: urls
2025-01-28 18:03:44,303 - INFO - root - dedup: Deduplicated 'events' table successfully.
2025-01-28 18:03:44,305 - INFO - root - dedup: Deduplicated 'urls' table successfully.
2025-01-28 18:03:44,307 - INFO - root - delete_old_events: Deleted events older than 3 days.
2025-01-28 18:03:44,309 - INFO - root - def delete_events_with_nulls(): Both start_date and start_time being null deleted successfully.
2025-01-28 18:03:44,310 - INFO - root - delete_likely_dud_events: Deleted events with empty org_name, dance_style, and url, and no address_id.
2025-01-28 18:03:44,311 - INFO - root - delete_likely_dud_events: Deleted events outside of British Columbia (BC).
2025-01-28 18:03:44,313 - INFO - root - delete_likely_dud_events: Deleted events that are not in Canada (CA).
2025-01-28 18:03:44,313 - ERROR - root - def execute_query(): {query}
Query execution failed: (sqlalchemy.exc.InvalidRequestError) A value is required for bind parameter 'other'
[SQL: 
        DELETE FROM events
        WHERE dance_style = %(dance_style)s
            AND url = %(url)s
            AND event_type = %(other)s
            AND location IS NULL
            AND description IS NULL;
        ]
[parameters: [{'dance_style': '', 'url': '', 'event_type': 'other'}]]
(Background on this error at: https://sqlalche.me/e/20/cd3x)
2025-01-28 18:03:44,314 - INFO - root - def delete_likely_dud_events(): Deleted events with empty dance_style, url, event_type 'other', and null location and description.
2025-01-28 18:03:44,361 - INFO - root - fuzzy_duplicates: Kept row with event_id 2852
2025-01-28 18:03:44,363 - INFO - root - fuzzy_duplicates: Deleted duplicate row with event_id 6910
2025-01-28 18:03:44,448 - INFO - root - fuzzy_duplicates: Fuzzy duplicate removal completed successfully.
2025-01-28 18:03:44,449 - INFO - root - Main: Finished the process at 2025-01-28 18:03:44.449600
2025-01-28 18:03:44,450 - INFO - root - Main: Total time taken: 0:00:00.223618
2025-01-28 21:52:06,523 - INFO - root - Main: Started the process at 2025-01-28 21:52:06.523119
2025-01-28 21:52:06,580 - INFO - root - def __init__(): Database connection established.
2025-01-28 21:52:06,605 - INFO - root - create_tables: 'urls' table created or already exists.
2025-01-28 21:52:06,606 - INFO - root - create_tables: 'events' table created or already exists.
2025-01-28 21:52:06,607 - INFO - root - create_tables: 'address' table created or already exists.
2025-01-28 21:52:06,608 - INFO - root - create_tables: 'organizations' table created or already exists.
2025-01-28 21:52:06,611 - INFO - root - Schema: public, Table: address
2025-01-28 21:52:06,611 - INFO - root - Schema: public, Table: events
2025-01-28 21:52:06,612 - INFO - root - Schema: public, Table: fb_urls
2025-01-28 21:52:06,612 - INFO - root - Schema: public, Table: organizations
2025-01-28 21:52:06,612 - INFO - root - Schema: public, Table: urls
2025-01-28 21:52:06,616 - INFO - root - dedup: Deduplicated 'events' table successfully.
2025-01-28 21:52:06,617 - INFO - root - dedup: Deduplicated 'urls' table successfully.
2025-01-28 21:52:06,619 - INFO - root - delete_old_events: Deleted events older than 3 days.
2025-01-28 21:52:06,620 - INFO - root - def delete_events_with_nulls(): Both start_date and start_time being null deleted successfully.
2025-01-28 21:52:06,622 - INFO - root - delete_likely_dud_events: Deleted events with empty org_name, dance_style, and url, and no address_id.
2025-01-28 21:52:06,623 - INFO - root - delete_likely_dud_events: Deleted events outside of British Columbia (BC).
2025-01-28 21:52:06,624 - INFO - root - delete_likely_dud_events: Deleted events that are not in Canada (CA).
2025-01-28 21:52:06,624 - ERROR - root - def execute_query(): {query}
Query execution failed: (sqlalchemy.exc.InvalidRequestError) A value is required for bind parameter 'other'
[SQL: 
        DELETE FROM events
        WHERE dance_style = %(dance_style)s
            AND url = %(url)s
            AND event_type = %(other)s
            AND location IS NULL
            AND description IS NULL;
        ]
[parameters: [{'dance_style': '', 'url': '', 'event_type': 'other'}]]
(Background on this error at: https://sqlalche.me/e/20/cd3x)
2025-01-28 21:52:06,625 - INFO - root - def delete_likely_dud_events(): Deleted events with empty dance_style, url, event_type 'other', and null location and description.
2025-01-28 21:52:06,762 - INFO - root - fuzzy_duplicates: Fuzzy duplicate removal completed successfully.
2025-01-28 21:52:06,764 - INFO - root - Main: Finished the process at 2025-01-28 21:52:06.764222
2025-01-28 21:52:06,764 - INFO - root - Main: Total time taken: 0:00:00.241103
2025-01-28 21:52:24,344 - INFO - 
__main__: Starting the crawler process at 2025-01-28 21:52:24.344686
2025-01-28 21:52:24,380 - INFO - def __init__(): Database connection established.
2025-01-28 21:52:24,388 - INFO - def __init__(): Database connection established.
2025-01-28 21:52:24,388 - INFO - def __init__(): Database connection established.
2025-01-28 21:52:24,397 - INFO - Retrieved credentials for Google.
2025-01-28 21:52:24,429 - INFO - def process_events_without_url(): Found 0 events without URLs.
2025-01-28 21:52:24,429 - INFO - def process_events_without_url(): All events have a URL
2025-01-28 21:52:24,430 - INFO - __main__: Finished the crawler process at 2025-01-28 21:52:24.430329
2025-01-28 21:52:24,430 - INFO - __main__: Total time taken: 0:00:00.085643


2025-01-29 10:23:20,074 - INFO - root - Main: Started the process at 2025-01-29 10:23:20.074727
2025-01-29 10:23:20,149 - INFO - root - def __init__(): Database connection established.
2025-01-29 10:23:20,176 - INFO - root - create_tables: 'urls' table created or already exists.
2025-01-29 10:23:20,177 - INFO - root - create_tables: 'events' table created or already exists.
2025-01-29 10:23:20,178 - INFO - root - create_tables: 'address' table created or already exists.
2025-01-29 10:23:20,179 - INFO - root - create_tables: 'organizations' table created or already exists.
2025-01-29 10:23:20,190 - INFO - root - Schema: public, Table: address
2025-01-29 10:23:20,190 - INFO - root - Schema: public, Table: events
2025-01-29 10:23:20,191 - INFO - root - Schema: public, Table: fb_urls
2025-01-29 10:23:20,191 - INFO - root - Schema: public, Table: organizations
2025-01-29 10:23:20,192 - INFO - root - Schema: public, Table: urls
2025-01-29 10:23:20,208 - INFO - root - dedup: Deduplicated 'events' table successfully.
2025-01-29 10:23:20,215 - INFO - root - dedup: Deduplicated 'urls' table successfully.
2025-01-29 10:23:20,220 - INFO - root - delete_old_events: Deleted events older than 3 days.
2025-01-29 10:23:20,221 - INFO - root - def delete_events_with_nulls(): Both start_date and start_time being null deleted successfully.
2025-01-29 10:23:20,224 - INFO - root - delete_likely_dud_events: Deleted events with empty org_name, dance_style, and url, and no address_id.
2025-01-29 10:23:20,226 - INFO - root - delete_likely_dud_events: Deleted events outside of British Columbia (BC).
2025-01-29 10:23:20,228 - INFO - root - delete_likely_dud_events: Deleted events that are not in Canada (CA).
2025-01-29 10:23:20,229 - ERROR - root - def execute_query(): {query}
Query execution failed: (sqlalchemy.exc.InvalidRequestError) A value is required for bind parameter 'other'
[SQL: 
        DELETE FROM events
        WHERE dance_style = %(dance_style)s
            AND url = %(url)s
            AND event_type = %(other)s
            AND location IS NULL
            AND description IS NULL;
        ]
[parameters: [{'dance_style': '', 'url': '', 'event_type': 'other'}]]
(Background on this error at: https://sqlalche.me/e/20/cd3x)
2025-01-29 10:23:20,229 - INFO - root - def delete_likely_dud_events(): Deleted events with empty dance_style, url, event_type 'other', and null location and description.
2025-01-29 10:23:20,376 - INFO - root - fuzzy_duplicates: Fuzzy duplicate removal completed successfully.
2025-01-29 10:23:20,378 - INFO - root - Main: Finished the process at 2025-01-29 10:23:20.378044
2025-01-29 10:23:20,378 - INFO - root - Main: Total time taken: 0:00:00.303317
