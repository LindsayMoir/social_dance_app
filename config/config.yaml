checkpoint:
  extracted_text: checkpoint/extracted_text.xlsx
  fb_search: checkpoint/fb_search_keywords.csv
  fb_urls: checkpoint/fb_urls.csv
  fb_urls_cp: checkpoint/fb_urls_cp.csv
  fb_urls_cp_status: true
clean_up:
  old_events: 3
constants:
  black_list_domains: data/other/black_list_domains.csv
  delete_known_bad_urls: nuline, myglobaleventreports
  fb_base_url: https://www.facebook.com/search/events?q=
  fb_location_id: '&filters=eyJycF9ldmVudHNfbG9jYXRpb246MCI6IntcIm5hbWVcIjpcImZpbHRlcl9ldmVudHNfbG9jYXRpb25cIixcImFyZ3NcIjpcIjEwMzEzNTg3OTcyNzM4MlwifSJ9'
  uvic_rueda_dict:
    dance_style: cuban salsa, rueda, salsa
    day_of_week: Wednesday
    description: Weekly UVic cuban rueda salsa lesson, followed by a social dance.
      This happens most Wednesdays. Usually outside of the Students Union Building
      and sometimes inside at Vertigo. Please check and see if it is on this week.
    end_time: '21:00'
    event_name: UVic Salsa Rueda
    event_type: class, social dance
    location: Uvic Students Union Building, 3800 Finnerty Rd A101E, Victoria, BC V8P
      5C2
    source: Uvic Cuban Salsa Club
    start_date: ''
    start_time: '19:00'
    url: https://www.facebook.com/groups/cubansalsaclub/
crawling:
  depth_limit: 2
  headless: true
  max_attempts: 3
  max_crawl_trys: 3
  max_website_urls: 10
  prompt_max_length: 100000
  scroll_depth: 2
  urls_run_limit: 500
date_range:
  days_ahead: 365
  months: 3
temporal_expressions:
  # Time period definitions for queries like "Monday morning", "Friday evening", etc.
  time_periods:
    morning:
      start_time: "06:00:00"
      end_time: "12:00:00"
    afternoon:
      start_time: "12:00:00"
      end_time: "17:00:00"
    evening:
      start_time: "17:00:00"
      end_time: "21:00:00"
    night:
      start_time: "18:00:00"
      end_time: null  # No end time, just start after 6pm
  # Day name to weekday number mapping (0=Monday, 6=Sunday)
  day_names:
    monday: 0
    tuesday: 1
    wednesday: 2
    thursday: 3
    friday: 4
    saturday: 5
    sunday: 6
debug:
  address_fix: debug/address_fix.csv
  after_url_updated: debug/after_url_updated.csv
  before_url_updated: debug/before_url_updated.csv
  prompt_debug: true
fuzzywuzzy:
  hurdle: 70
input:
  butchart_image_url: https://butchartgardens.com/wp-content/uploads/2025/06/Outdoor-Summer-Concert-2025-994x1536.jpg
  butchart_parent_url: https://butchartgardens.com/summer-entertainment-calendar/
  butchart_pdf_url: https://butchartgardens.com/wp-content/uploads/2025/06/Summer-Entertainment-calendar-double-sided-2025.pdf
  calendar_urls: data/other/calendar_urls.csv
  countries: data/other/countries.csv
  data_keywords: data/other/keywords.csv
  edge_cases: data/other/edge_cases.csv
  email_events: data/other/email_events.csv
  emails: data/other/emails.csv
  gs_urls: data/urls/gs_urls.csv
  images: data/other/images.csv
  municipalities: data/other/municipalities.txt
  nulls_addresses: data/other/nulls_addresses.csv
  pdfs: data/other/pdfs.csv
  predibase: data/other/duplicates_predibase.csv
  sql_input: data/other/sql_input.json
  urls: data/urls
llm:
  anthropic_model: claude-opus-4-20250514
  mistral_model: mistral-large-2512
  openai_model: gpt-5-mini
  provider: mistral
  spend_money: true
location:
  epicentre: Victoria, British Columbia, Canada
logging:
  extracted_text: output/extracted_text.csv
  log_file: logs/pipeline_4938_20250728_113202680395.log
  log_file_p2: logs/log_file_p2.txt
  scraper_log_file: logs/scraper_log.txt
output:
  dedup: output/dedup.csv
  ebs_events: data/other/ebs_events.csv
  ebs_keywords_processed: output/ebs_keywords_processed.csv
  ebs_search_results: output/ebs_search_results.csv
  events_urls_diff: output/events_urls_diff.csv
  fb_search_results: output/fb_search_results.csv
  gs_search_results: output/gs_search_results.csv
  irrelevant_rows: output/irrelevant_rows.csv
  is_foreign: output/is_foreign.csv
prompts:
  address:
    file: prompts/address_from_raw_page.txt
    schema: address_extraction
  address_0_null_loc_fix:
    file: prompts/address_0_null_location_fix_prompt.txt
    schema: address_extraction
  address_fix:
    file: prompts/address_fix_prompt.txt
    schema: address_extraction
  address_internet_fix:
    file: prompts/address_internet_fix.txt
    schema: address_extraction
  chatbot_instructions:
    file: prompts/chatbot_instructions.txt
    schema: null
  dedup:
    file: prompts/dedup_prompt.txt
    schema: deduplication_response
  dedup_llm_address:
    file: prompts/dedup_llm_address.txt
    schema: address_deduplication
  default:
    file: prompts/default.txt
    schema: event_extraction
  djdancingdean:
    file: prompts/djdancingdean_prompt.txt
    schema: event_extraction
  event_name_location_fix:
    file: prompts/event_name_location_fix.txt
    schema: address_extraction
  fb:
    file: prompts/fb_prompt.txt
    schema: event_extraction
  fix_dup_addresses_semantic_clustering:
    file: prompts/fix_dup_addresses.txt
    schema: null
  https://gotothecoda.com/calendar:
    file: prompts/calendar_venues.txt
    schema: event_extraction
  https://loftpubvictoria.com/events/month/:
    file: prompts/calendar_venues.txt
    schema: event_extraction
  https://thedukesaloon.com/:
    file: prompts/calendar_venues.txt
    schema: event_extraction
  https://vbds.org/other-dancing-opportunities/:
    file: prompts/default.txt
    schema: event_extraction
  https://www.bardandbanker.com/live-music:
    file: prompts/bard_and_banker_prompt.txt
    schema: event_extraction
  https://www.debrhymerband.com/shows:
    file: prompts/deb_rhymer_prompt.txt
    schema: event_extraction
  images:
    file: prompts/images_prompt.txt
    schema: event_extraction
  irrelevant_rows:
    file: prompts/irrelevant_rows_prompt.txt
    schema: relevance_classification
  relevant_dance_url:
    file: prompts/relevant_dance_url.txt
    schema: null
  # Validation and chatbot prompts
  contextual_sql:
    file: prompts/contextual_sql_prompt.txt
    schema: null
  interpretation:
    file: prompts/interpretation_prompt.txt
    schema: null
  result_analysis:
    file: prompts/result_analysis_prompt.txt
    schema: null
  single_event:
    file: prompts/single_event.txt
    schema: event_extraction
  sql:
    file: prompts/contextual_sql_prompt.txt
    schema: null
score:
  dup_trans_db_scan: false
search:
  gs_num_results: 10
startup:
  use_db: false
testing:
  drop_tables: false
  fast_api_url: http://localhost:8080/query
  local: false
  nof_no_url_events: 10
  sql: true
  status: true
  # Pre-commit validation configuration
  validation:
    scraping:
      days_back: 30  # Check scraping in last N days
      whitelist_file: data/urls/aaa_urls.csv
      edge_cases_file: data/other/edge_cases.csv
      min_hit_ratio: 0.50  # Threshold for "high performer"
      min_attempts: 3  # Min attempts to establish pattern
    chatbot:
      question_templates: tests/data/chatbot_test_questions.yaml
      llm_evaluation: true
      fallback_scoring: true
      score_threshold: 70  # Min average score to pass
      execution_threshold: 0.90  # Min SQL success rate (90%)
    reporting:
      output_dir: output
      generate_html: true
      generate_csv: true
